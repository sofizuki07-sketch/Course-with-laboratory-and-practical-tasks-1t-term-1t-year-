# Лабораторная работа №3
## Тема: Объединения (union) и перечисления (enum) в языке C

### Задача 1: Работа с объединением для хранения разных типов данных
Создайте объединение `Data`, которое может хранить либо целое число (`int`), либо вещественное число (`float`), либо символ (`char`). Напишите программу, которая запрашивает у пользователя тип данных, затем соответствующее значение, сохраняет его в объединение и выводит значение на экран в правильном формате. Используйте указатель на объединение для доступа к данным.

### Задача 2: Побайтовый анализ числа через объединение
Создайте объединение, содержащее переменную типа `unsigned int` и массив из 4 байт (`unsigned char[4]`). Напишите программу, которая запрашивает у пользователя целое число, сохраняет его в объединение, а затем выводит каждый байт этого числа в шестнадцатеричном формате, начиная со старшего байта. Используйте объединение для доступа к памяти без явного приведения типов.

### Задача 3: Перечисление для статуса заказа
Создайте перечислимый тип `OrderStatus` со значениями: `NEW`, `PROCESSING`, `SHIPPED`, `DELIVERED`, `CANCELLED`. Напишите программу, которая моделирует изменение статуса заказа: пользователь вводит номер статуса, программа выводит его текстовое название и соответствующее числовое значение. Реализуйте проверку корректности ввода.

### Задача 4: Размеченное объединение для геометрических фигур
Создайте структуру `Shape`, содержащую перечисление `ShapeType` (круг, прямоугольник, треугольник) и объединение, которое может хранить параметры для каждой фигуры (радиус для круга, длину и ширину для прямоугольника, три стороны для треугольника). Напишите программу, которая создает массив из 3-5 фигур, заполняет его данными и выводит информацию о каждой фигуре (тип и параметры).

### Задача 5: Система управления устройством с перечислениями
Создайте перечисление `DeviceState` со состояниями: `OFF`, `STANDBY`, `ACTIVE`, `ERROR`. Напишите программу, имитирующую работу устройства: пользователь может вводить команды (включить, выключить, перевести в режим ожидания), программа изменяет состояние устройства и выводит текущее состояние. Используйте перечисление для хранения состояния и switch для обработки команд.

---

## Теоретическая справка по теме «Объединения и перечисления»

### Основные понятия:

1. **Объединение (union)** – особый тип данных, позволяющий хранить разные типы данных в одной области памяти. Все поля объединения занимают один и тот же участок памяти, размер равен размеру наибольшего поля.

2. **Перечисление (enum)** – тип данных, представляющий собой набор именованных целочисленных констант. Упрощает чтение кода, заменяя "магические числа" на осмысленные имена.

3. **Размеченное объединение (tagged union)** – комбинация структуры и объединения, где структура содержит объединение и поле-индикатор (часто перечисление), показывающее, какой тип данных хранится в объединении в данный момент.

4. **Побитовый доступ к данным** – техника использования объединений для доступа к байтам многобайтовых типов данных без явного приведения типов и побитовых операций.

### Полезные материалы для изучения:
- Объединения (union) и их применение - https://metanit.com/c/tutorial/6.6.php 
- Перечисления (enum) и управление состояниями - https://metanit.com/c/tutorial/6.8.php 
- побитовый доступ к данным - [хабр](https://habr.com/ru/companies/metalamp/articles/809549/)

---

### Ключевые моменты для запоминания:
- Объединение хранит только одно значение в любой момент времени
- Изменение одного поля объединения изменяет все остальные
- Перечисления по умолчанию начинаются с 0 и увеличиваются на 1
- Перечислениям можно явно задавать значения (нумерация также сдвинется)
- Размеченные объединения предотвращают неправильную интерпретацию данных

